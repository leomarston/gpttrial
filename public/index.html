<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>StocksGPT · Alpha Vantage Top Movers</title>
    <style>
      :root {
        color-scheme: light dark;
        font-family: "Inter", "Segoe UI", system-ui, sans-serif;
        --bg: radial-gradient(circle at top, rgba(64, 149, 255, 0.22), transparent 55%),
          radial-gradient(circle at bottom, rgba(111, 66, 193, 0.18), transparent 45%),
          color-mix(in srgb, Canvas 92%, #040509 8%);
        --card-bg: color-mix(in srgb, Canvas 85%, rgba(24, 25, 31, 0.75) 15%);
        --card-border: color-mix(in srgb, CanvasText 12%, transparent);
        --muted: color-mix(in srgb, CanvasText 45%, transparent);
        --accent: #7d5efc;
        --accent-soft: color-mix(in srgb, var(--accent) 24%, transparent);
        --gain: #10b981;
        --loss: #ef4444;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        display: flex;
        justify-content: center;
        background: var(--bg);
        color: CanvasText;
      }

      main.app {
        width: min(1080px, 100%);
        padding: clamp(1.5rem, 3vw, 2.75rem);
        display: flex;
        flex-direction: column;
        gap: clamp(1.5rem, 2.4vw, 2.4rem);
      }

      header.hero {
        display: grid;
        gap: 1.25rem;
        padding: clamp(1.5rem, 2.5vw, 2.5rem);
        border-radius: 1.8rem;
        background: linear-gradient(130deg, rgba(125, 94, 252, 0.35), rgba(64, 149, 255, 0.25));
        border: 1px solid color-mix(in srgb, CanvasText 12%, transparent);
        box-shadow: 0 25px 60px rgba(54, 63, 138, 0.12);
      }

      .hero__heading {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
      }

      .hero__heading h1 {
        margin: 0;
        font-size: clamp(2rem, 5vw, 2.7rem);
        font-weight: 700;
        letter-spacing: -0.02em;
      }

      .hero__heading p {
        margin: 0;
        max-width: 60ch;
        color: var(--muted);
        font-size: clamp(1rem, 2.3vw, 1.08rem);
      }

      .meta {
        display: flex;
        flex-wrap: wrap;
        gap: 0.75rem;
        align-items: center;
      }

      .tag {
        display: inline-flex;
        align-items: center;
        gap: 0.45rem;
        padding: 0.45rem 0.95rem;
        border-radius: 999px;
        background: rgba(12, 17, 32, 0.35);
        border: 1px solid color-mix(in srgb, CanvasText 12%, transparent);
        font-weight: 600;
        font-size: 0.95rem;
      }

      .tag--accent {
        background: var(--accent-soft);
        color: var(--accent);
      }

      .tag--success {
        background: color-mix(in srgb, var(--gain) 20%, transparent);
        color: var(--gain);
        border-color: color-mix(in srgb, var(--gain) 38%, transparent);
      }

      .tag--error {
        background: color-mix(in srgb, var(--loss) 20%, transparent);
        color: var(--loss);
        border-color: color-mix(in srgb, var(--loss) 38%, transparent);
      }

      .controls {
        display: flex;
        flex-wrap: wrap;
        gap: 1rem;
        align-items: center;
        justify-content: space-between;
        padding: 1.1rem 1.4rem;
        border-radius: 1.5rem;
        background: var(--card-bg);
        border: 1px solid var(--card-border);
        backdrop-filter: blur(18px);
      }

      .controls form {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        flex-wrap: wrap;
      }

      .controls label {
        font-weight: 600;
        font-size: 1rem;
      }

      .controls input[type="number"] {
        border-radius: 0.85rem;
        padding: 0.5rem 0.9rem;
        font: inherit;
        width: 5rem;
        border: 1px solid color-mix(in srgb, CanvasText 20%, transparent);
        background: color-mix(in srgb, Canvas 90%, transparent);
        color: inherit;
      }

      .controls button {
        border-radius: 999px;
        border: none;
        padding: 0.55rem 1.25rem;
        font: inherit;
        font-weight: 600;
        cursor: pointer;
        background: var(--accent);
        color: white;
        box-shadow: 0 10px 20px rgba(125, 94, 252, 0.22);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .controls button:hover {
        transform: translateY(-1px);
        box-shadow: 0 14px 24px rgba(125, 94, 252, 0.28);
      }

      .status {
        font-size: 0.95rem;
        color: var(--muted);
        min-height: 1.2rem;
      }

      .summary {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: clamp(1rem, 1.8vw, 1.4rem);
      }

      .summary-card {
        position: relative;
        padding: 1.3rem 1.4rem;
        border-radius: 1.4rem;
        background: var(--card-bg);
        border: 1px solid var(--card-border);
        backdrop-filter: blur(16px);
        display: flex;
        flex-direction: column;
        gap: 0.65rem;
        box-shadow: 0 18px 32px rgba(18, 21, 39, 0.12);
        overflow: hidden;
      }

      .summary-card::after {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(circle at top right, rgba(125, 94, 252, 0.22), transparent 65%);
        opacity: 0;
        transition: opacity 0.25s ease;
        pointer-events: none;
      }

      .summary-card:hover::after {
        opacity: 1;
      }

      .summary-card .label {
        font-size: 0.95rem;
        color: var(--muted);
        font-weight: 600;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }

      .summary-card .metric {
        font-size: clamp(1.45rem, 3vw, 1.9rem);
        font-weight: 700;
      }

      .summary-card .metric.positive {
        color: var(--gain);
      }

      .summary-card .metric.negative {
        color: var(--loss);
      }

      .summary-card .ticker {
        font-family: "JetBrains Mono", "Menlo", monospace;
        font-weight: 600;
        font-size: 1rem;
        display: inline-flex;
        align-items: center;
        gap: 0.4rem;
        padding: 0.3rem 0.65rem;
        border-radius: 0.75rem;
        background: rgba(12, 17, 32, 0.35);
        border: 1px solid color-mix(in srgb, CanvasText 15%, transparent);
      }

      .tables {
        display: grid;
        gap: clamp(1.2rem, 2.4vw, 1.8rem);
      }

      .data-card {
        padding: clamp(1.2rem, 2vw, 1.6rem);
        border-radius: 1.5rem;
        background: var(--card-bg);
        border: 1px solid var(--card-border);
        backdrop-filter: blur(18px);
        box-shadow: 0 18px 40px rgba(20, 26, 44, 0.14);
        overflow: hidden;
      }

      .data-card header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
        gap: 1rem;
      }

      .data-card h2 {
        margin: 0;
        font-size: clamp(1.25rem, 2.5vw, 1.5rem);
        font-weight: 700;
      }

      table {
        width: 100%;
        border-collapse: collapse;
        border-radius: 1rem;
        overflow: hidden;
      }

      thead {
        background: color-mix(in srgb, CanvasText 12%, transparent);
      }

      th,
      td {
        padding: 0.75rem 1rem;
        text-align: left;
        font-size: 0.97rem;
        border-bottom: 1px solid color-mix(in srgb, CanvasText 12%, transparent);
      }

      tbody tr:last-of-type td {
        border-bottom: none;
      }

      tbody tr:hover {
        background: color-mix(in srgb, CanvasText 6%, transparent);
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 0.35rem;
        padding: 0.3rem 0.6rem;
        border-radius: 999px;
        font-size: 0.85rem;
        font-weight: 600;
        background: rgba(12, 17, 32, 0.4);
        border: 1px solid color-mix(in srgb, CanvasText 12%, transparent);
      }

      .pill.positive {
        background: color-mix(in srgb, var(--gain) 18%, transparent);
        color: var(--gain);
        border-color: color-mix(in srgb, var(--gain) 30%, transparent);
      }

      .pill.negative {
        background: color-mix(in srgb, var(--loss) 18%, transparent);
        color: var(--loss);
        border-color: color-mix(in srgb, var(--loss) 30%, transparent);
      }

      .skeleton {
        position: relative;
        overflow: hidden;
        background: color-mix(in srgb, CanvasText 8%, transparent);
      }

      .skeleton::after {
        content: "";
        position: absolute;
        inset: 0;
        background: linear-gradient(
          90deg,
          transparent,
          color-mix(in srgb, CanvasText 14%, transparent),
          transparent
        );
        animation: shimmer 1.4s infinite;
      }

      @keyframes shimmer {
        0% {
          transform: translateX(-100%);
        }
        100% {
          transform: translateX(100%);
        }
      }

      @media (max-width: 700px) {
        header.hero {
          border-radius: 1.2rem;
        }

        .controls {
          flex-direction: column;
          align-items: flex-start;
        }

        table,
        thead,
        tbody,
        th,
        td,
        tr {
          display: block;
        }

        thead {
          display: none;
        }

        tbody tr {
          padding: 0.85rem 0;
          border-bottom: 1px solid color-mix(in srgb, CanvasText 12%, transparent);
        }

        tbody tr:last-of-type {
          border-bottom: none;
        }

        td {
          border: none;
          padding: 0.35rem 0;
        }

        td::before {
          content: attr(data-label);
          font-weight: 600;
          display: block;
          color: var(--muted);
          margin-bottom: 0.15rem;
        }
      }
    </style>
  </head>
  <body>
    <main class="app">
      <header class="hero">
        <div class="hero__heading">
          <h1>Alpha Vantage Top Movers</h1>
          <p>
            Track the day’s biggest US equity gainers, losers, and most active tickers in real time.
            Pull fresh data on demand or let ChatGPT query the `topMovers` tool directly.
          </p>
        </div>
        <div class="meta">
          <span class="tag tag--accent" id="status-tag">Awaiting data…</span>
          <span class="tag" id="updated">Last updated: —</span>
        </div>
      </header>

      <section class="controls">
        <form id="limit-form">
          <label for="limit">Rows per table</label>
          <input
            id="limit"
            name="limit"
            type="number"
            min="1"
            max="20"
            value="5"
            inputmode="numeric"
          />
          <button type="submit">Refresh</button>
        </form>
        <span class="status" id="status"></span>
      </section>

      <section class="summary" id="summary"></section>

      <noscript>
        <p style="padding: 1rem; background: var(--card-bg); border-radius: 1rem;">
          Enable JavaScript to load the Alpha Vantage top movers data.
        </p>
      </noscript>

      <section id="tables" class="tables"></section>
    </main>
    <script type="module" src="/app.js"></script>
  </body>
</html>
